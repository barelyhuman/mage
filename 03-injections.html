<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>mage | documentation</title>
		<link rel="stylesheet" href="styles.css" />
	</head>
	<body>
		<section class="container">
			<div class="flex spread centerV">
				<a href="."><h1>Mage</h1></a>
				<a href="https://github.com/barelyhuman/mage">github</a>
			</div>
		</section>
<header class="container">
<nav>


    <a href=/mage/index>..</a>

    <a href=/mage/01-basics> basics</a>

    <a href=/mage/02-lifecycle> lifecycle</a>

    <a href=/mage/03-injections> injections</a>

</nav>
</header>
<main class="container">
<h1 id="injections">Injections</h1>
<p>These are basically things that can be injected to a reactive component instance.</p>
<ol>
<li>State (mandatory)</li>
<li>Actions (optional)</li>
<li>Injections (optional, hook based injections)</li>
</ol>
<h2 id="state">State</h2>
<p>This injection is mandatory for reactive components, you don't need it to be reactive otherwise.</p>
<h2 id="actions">Actions</h2>
<p>These as mentioned in the <a href="01-basics#actions">basics#actions</a> is optional and<br />
can be done without it if you aren't really doing any state manipulation in which<br />
case the component instance should be wrapped with <code>makeReactive</code> and the state<br />
being manipulated needs to be injected into it.</p>
<h2 id="injections-1">Injections</h2>
<p>Now, this is for all the libraries that only support hooks and so while I do not recommend using these libraries at all but there's definitely libraries that are necessary and there's no other viable option so.</p>
<p>In that case, you can use injections which take in a key,function pair.<br />
the function is to return another function in a hook form.</p>
<p>Eg:</p>
<pre><code class="language-js">const injections = {
	// redux is only an example here, you can use the `connect` api
	somethingFromRedux: () =&gt; {
		return () =&gt; {
			const userProfile = useSelector((s) =&gt; s.user.profile)
			return userProfile
		}
	},
}

function ComponentImpl({injections}) {
	// the returned variable `userProfile` get's assigned to the
	// passed key which is `somethingFromRedux` in this case
	return &lt;&gt;{injections.somethingFromRedux.displayName}&lt;/&gt;
}

const Component = makeReactive(ComponentImpl, {injections})
</code></pre>
</main><footer class="container">
    Built with <a href="http://github.com/barelyhuman/alvu">alvu</a>
</footer>
</body>
</html>