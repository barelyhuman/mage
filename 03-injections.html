<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>mage | documentation</title>
		<link rel="stylesheet" href="styles.css" />
	</head>
	<body>
		<section class="container">
			<div class="flex spread centerV">
				<a href="."><h1>Mage</h1></a>
				<a href="https://github.com/barelyhuman/mage">github</a>
			</div>
		</section>
<header class="container">
<nav>


    <a href=/mage/index>..</a>

    <a href=/mage/01-basics> basics</a>

    <a href=/mage/02-lifecycle> lifecycle</a>

    <a href=/mage/03-injections> injections</a>

    <a href=/mage/04-api> api</a>

    <a href=/mage/05-helpers> helpers</a>

</nav>
</header>
<main class="container">
<h1 id="injections">Injections</h1>
<p>This is a &quot;<strong>good to have</strong>&quot; for libraries that only provide hooks and so you don't have to trash your entire<br />
component but be able to slowly add <code>mage</code> as a disciplinary library while writing components<br />
and so while we do not recommend using these libraries, sometimes there's no other viable option.</p>
<p>In which case, it's easier to just use the hooks they provide to inject them (pass them) to the<br />
reactive component and the reactive component only.</p>
<p>The state and injections are kept separate to make sure you can reuse your state connector later.</p>
<p>Eg:</p>
<pre><code class="language-js">const injections = {
	// redux is only an example here, you should be able to the `connect` api
	somethingFromRedux: () =&gt; {
		return () =&gt; {
			const userProfile = useSelector((s) =&gt; s.user.profile)
			return userProfile
		}
	},
}

function ComponentImpl({injections}) {
	// the returned variable `userProfile` get's assigned to the
	// passed key which is `somethingFromRedux` in this case
	return &lt;&gt;{injections.somethingFromRedux.displayName}&lt;/&gt;
}

const Component = makeReactive({})(ComponentImpl)

Component.inject(injections)
</code></pre>
</main><footer class="container">
    Built with <a href="http://codeberg.org/reaper/alvu">alvu</a>
</footer>
</body>
</html>
